{"version":3,"sources":["../../src/routes/users.js"],"names":[],"mappings":";;;;;;AAAA;;;;AACA;;;;AACA;;;;;;AAEA,IAAM,SAAS,kBAAQ,MAAR,EAAf;;;AAGA,OAAO,GAAP,CAAW,GAAX,EAAgB,UAAS,GAAT,EAAc,GAAd,EAAmB,IAAnB,EAAyB;AACvC,MAAI,MAAJ,CAAW,OAAX;AACD,CAFD;;;AAKA,OAAO,GAAP,CAAW,MAAX,EAAmB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AAC3C,MAAI,OAAO,oBAAX;AACA,OAAK,IAAL,GAAY,QAAZ;AACA,OAAK,GAAL,GAAW,EAAX;AACA,OAAK,IAAL,CAAU,UAAC,GAAD,EAAS;AACjB,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,GAAZ;AACD;AACF,GAJD;AAKD,CATD;;;AAYA,OAAO,GAAP,CAAW,SAAX,EAAsB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AAC9C,iBAAK,MAAL,CAAY,EAAE,QAAQ,QAAV,EAAZ,EAAkC,UAAC,GAAD,EAAS;AACzC,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,GAAZ;AACD;AACF,GAJD;AAKA,MAAI,MAAJ,CAAW,OAAX;AACD,CAPD;;;AAUA,OAAO,GAAP,CAAW,SAAX,EAAsB,UAAU,GAAV,EAAe,GAAf,EAAoB,IAApB,EAA0B;AAC9C,iBAAK,OAAL,CAAa,EAAE,QAAQ,QAAV,EAAb,EAAmC,UAAC,GAAD,EAAM,KAAN,EAAgB;AACjD,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,GAAZ;AACA;AACD;AACD,QAAI,KAAJ,EAAW;AACT,YAAM,IAAN,GAAa,UAAb;AACA,YAAM,IAAN,CAAW,UAAC,GAAD,EAAS;AAClB,YAAI,GAAJ,EAAS;AACP,kBAAQ,GAAR,CAAY,GAAZ;AACD;AACF,OAJD;AAKD;AACF,GAbD;AAcD,CAfD;;;AAkBA,OAAO,GAAP,CAAW,OAAX,EAAoB,UAAC,GAAD,EAAM,GAAN,EAAW,IAAX,EAAoB;AACtC,iBAAK,IAAL,CAAU,EAAE,QAAQ,QAAV,EAAV,EAAgC,MAAhC,EAAwC,UAAC,GAAD,EAAM,KAAN,EAAgB;AACtD,QAAI,GAAJ,EAAS;AACP,cAAQ,GAAR,CAAY,GAAZ;AACA;AACD;AACD,QAAI,IAAJ,CAAS,KAAT;AACD,GAND;AAOD,CARD;;kBAUe,M","file":"users.js","sourcesContent":["import express from 'express';\nimport mongoose from 'mongoose';\nimport User from '../models/user';\n\nconst router = express.Router();\n\n/* GET users listing. */\nrouter.get('/', function(req, res, next) {\n  res.render('users');\n});\n\n// 添加用户\nrouter.get('/add', function (req, res, next) {\n  var user = new User();\n  user.name = \"yesong\";\n  user.age = 25;\n  user.save((err) => {\n    if (err) {\n      console.log(err);\n    }\n  });\n});\n\n// 删除用户\nrouter.get('/delete', function (req, res, next) {\n  User.remove({ 'name': 'yesong' }, (err) => {\n    if (err) {\n      console.log(err);\n    }\n  });\n  res.render('users');\n});\n\n// 更新用户信息\nrouter.get('/update', function (req, res, next) {\n  User.findOne({ 'name': 'yesong' }, (err, model) => {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    if (model) {\n      model.name = 'laiqiang';\n      model.save((err) => {\n        if (err) {\n          console.log(err);\n        }\n      });\n    }\n  })\n});\n\n// 查找用户列表\nrouter.get('/list', (req, res, next) => {\n  User.find({ 'name': 'yesong' }, 'name', (err, model) => {\n    if (err) {\n      console.log(err);\n      return;\n    }\n    res.json(model);\n  })\n})\n\nexport default router;\n"]}